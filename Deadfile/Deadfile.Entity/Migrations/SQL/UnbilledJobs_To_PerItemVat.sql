ALTER TABLE [dbo].[InvoiceItems] ADD [VatValue] [float] NOT NULL DEFAULT 0
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201709021305195_PerItemVat', N'Deadfile.Entity.DeadfileContext',  0x1F8B0800000000000400ED5D596FE4B8117E0F90FFD0E8A7249875FBC824BB86BD0BAF7BBCEBC44767DAB39BB701DD62772BABA3A3C36B23C82FCB437E52FE42488992784A2475B56706030CDCA4EAE3552C16C962D5FFFEF3DFB3EF9E7D6FF204A3D80D83F3E9D1C1E174028355E8B8C1E67C9A26EBAFBE9E7EF7ED6F7F73F6CEF19F273F15DF9DE0EF1065109F4FB749B23B9DCDE2D516FA203EF0DD5514C6E13A395885FE0C38E1ECF8F0F09BD9D1D10C228829C29A4CCEDEA741E2FA30FB817E5E86C10AEE921478B7A103BD98A4A39C65863AB9033E8C776005CFA773089CB5EBC18377082279994E2E3C17A06A2CA1B79E4E401084094850254F3FC470994461B059EE5002F01E5E76107DB7065E0C49E54FABCF75DB71788CDB31AB080BA8551A27A16F087874423A66C6935B75EFB4EC38D47579FFE05667DD773EBDD8ED3C7745D0F9F24E2FBD087F2B74F00145F666C265BE295902710EFEF76672997A491AC1F300A64904BC379345FA88E8FF0A5F1EC25F60701EA49E47D713D514E53109286911853B18252FEFE15AACFDB5339DCC5888198F5122C8C9F3A65E07C9C9F1747287AA041E3D583207D52DCB248CE00F30801148A0B30049022334B6D70E24EC37AB2DF6265C01EF224DB661947D9D978BF812CDAFE9E4163CDFC060936CCFA7E8CFE9E4CA7D864E9142EAF22170D1744444499442495D4DCA47BD092334BDE1F015B98C60D6A173D48D45E9F8EF0724068CC1DEC5487AE0F198C3951B7785BA4C28142C4E68D627998690184B8598E71902FE257C6C665F1AE26C56C9815AE9F0BD9BA3FC18A6918978A0E9C6940F743D6C04044F3F948498C37815B9BB5C2A2B67E5D1E1611FB3728146A79372EB8BC17D1AFF1C46BF4023DE1581EE6072E187487928277B88B8C7BCDD776102E39A66BFEDA4D99DCA3C513A151C6B279A8C258908711D3C85EE0A0A301CD51D78723759478855984EDE432FCB8BB7EE8E340CA57FA4A7231AA9AB28F4DF875E4EC4667E7C00D106628E08555F2CD1FF2B5BC198D5525F1EA2CFC7148364584DA59F16377427F4507177A9FF08A3760C78E138118CE32B378A931B37A8536B8EFB11A0A4064BB80A03A7A32A6895F8B075A3410B5C84717289886ACBEBA0382CCDD2981174885B8A54C3E1D15B5CDFF6C21A03AD319E8BA69CB12457CA644EEEB697CE85EC554BE7427EEB56316FB2B46E79D6475406532B2A59582DE83CD93A51579377CF3B18C450DE4F24F363B67E5475A19285BAD079ADD6ACA28BF497AD9C62CC95ABE264D3C54B770E74B77E3DB889D7BB24CC9635FC677BD1555FD0ADEB381ECCCED8FA2EEA0674D524D3F387D0DF81A0EE04A69BADCE1795E4D3534916DB3080B9BE7AD4C1C9997661C7431676D27B61EF7CE07A64E87A2F4CA246E6CB84A526D99336A7542DC8DE5AAE5A109DA5FA4650758A2C41FDE2F34D95AF5CB5B253BD147561D4322B7587B4C644DF2124632A3CD4F189A9C6A33A79E951E5C90EB3A0D3C959D60F5118C7DD1CE4757420F81348DED32DB346F90978695B1889EC22036E29BC08B570FD6377EAC2AB52D9EC2FD24CB13211D0A011F674F89D973DBEC2C6D46340B58D297738E58D297630152E0AFF0157C9F083AB7702D52B67757738542C3B09F4E54A00F9E023FB61A50DC8F205B540FA5117FA0146B2D01130D93EE809A81A6D740542BE5FF79A3D317E876A41170BBAB6BA66C5DDE4D4D084B309C9985C4DAA60C3D114E97E71734F8ACA677CEB2D18D090B1B7329EF98CAED0352E1FF86557763161278FFC9D17BE4033814468469548A40E562289A21D4A2649B6894535B4F6892616100F20FEC5D00A02938C6C0981AB60690D51907E1E0BCC200BC33C853D594291F1B293E28BC8658D7329C42A6F989DD760D69EBC5DB2FECC6629C79CE06C4D6CE6B98830D4741FE7C4EB43E4757CF1A2CD700BF0E21B9A24109231598C54C186B728D2C1D6904FF36CDE46CD365698C970F10A33952C28CC745E2B85F96F69F9E8477F76944463CE8FB212363384211E6A8E2CB611884738E4CF57999A7271BBDB16ABE6B8D4A7F84D7CD6721D5F796053BD8EB37A1D966175C68DA8E10E8CBC17D44F346FB09D7C0BB1E942A173A551942D31D991DDF9F4501813E673C4C5698C1F2490CF8FEA3F470D8DC227EA7B7197CE7CFFB39B6C9D08FC1A940427E260E5C3A23754F991472723853F1871A07E0C51C76F430F912D3C547544B98091EFC6712603F586EF0A955D43DD309A37E0D775EACDE113F4C21D96E29768AEBA6BDC3F5077846FDD208C2E10B1E3D36C77D2C8471078E5D77FACFFFA122D52307ACA46ED228220FB4D15F6B6A1996E8C84E4F7A9EBE107BD3CF19FEA8929B2240ABDE227DA2C66B61604E4CF4620C5A8C525FDD7F5F4F769E2B901948CF037F584D9D60DD7755DBE792D58A381B350551D37530F9817B305750367CDDD78E78197FBF585F384792A6698E3E8D8420870A794F62280011A51005CAC12F709EACEF40570B5A5346EA1BE8CBE04C10A320436329A7A9E603F3425C8AB1916B1F31AC606DB887830510F8F566FB3567CF61D4EE3BC9A3EBF0E00FBFD91450F72B644F65DC8008DA9F8E5A669BD312E2380AC78B6B08E6AC1AE39C488BDBC00A9B7047E1C06975B10A15D17749669F4045FC2E826D1EEFC6B1F6CD07A7E32A7696CB898B908B4EF570A664C2950291A5710C6DA2B6314AE61A615018FA16B60E8ECF9CA1C4227BE8F586DAC61C14405FA60A7ABEACE23E0066003971044ABADAECA7B9F6CF1BB50B982ABC71ADC2D580BEE60903EAF6582BD5469A5D99438AFA607455DA5451756B748AD7BB1801AB1236FC25F757BF1163A6EEAEB4AA51FDDCDD66C99BD88E370E5663D57F538F738952DF05DE04C1A5FAA32D780D3C92DEA4717CB67D4CDB811FCB1E87D308798572698C5B0E3A74B10AF80231E09A23638FAD5291F878AE62AB98F16B65E7F108A23E6DED8F715DEF927581A27E299AE1BACDC1DF09ABA8523545DB98B07C1B8E165297CCE1CA2E5171FDD367543ABE2CB52B8F168EAA1B319C561F58C27B57C550D76BD19AC60F53F100BD6DADD8AB5CAAD697B61C2BAFED16104E5CB1A235EACEB8FD6B5188025F95762AA71573E19A39E7790F7E483F0A1EA895AF3C4E888FD141DA233E6AA47EC468CA7E880B6E50FC772D923C086E1655F048ECB6AAC6388DAE5BF5B16A33B6168F6A21BFD0A588BB668550DA7D4BC55B01D6E1E5239A21E8374CAA956BC25A9F330CA9BA4FBF75D6DA3CD3E543C20B501A978A0B46CD2E72A99E5C8BE7395A4CEC37095A4FBF78BABF20D38BEE04414D5E117D99FE374F82C337CFB1043B2DD8F897507CF2F18770913F190309E4E2A4B0FD1B5A884F55828CE7F9380C56E341BC0F227FF0246C6C50DA4F99A22A32ED4800680CA05828050EA887A10E4ADA20A26DFED344055FEA0049872ED698220278E528CF26145F388E0C322C5A8E4B6FC0D108C69AC2BAD0E6F43DC8048E6B10CA914A10D10A5C5980C84B2A2E360A879CBF411EFC68CFA4EE9EB8C17273A074A65338AB92208259D73200A85AB372FF0D9F66AF485FCD9AED81DCD871CFAC71C5473AA495CD331B5A71322186943EBAE115CAD88BD52BBCFD6DA6953D52F25624D57A836C81A5D6ADF0339E72A5B2F6EF91A377D76AD66F66A0D33CBA2B5CCC339B1B5CA5D48E33E84AA6AB54CD43457B6F3E8BEB98CD9B3D85CA57ADCA8205355AD047F4D73652AB17D730B43D852292BF3CE6679480992703653C49E38BB05BB9D1B6CA858142465B2CC03515C7EB5340FD2E0E718B31533597815B22C290923B0815C2EBE9D7260E6B0640E12F098D9335F3ABEF019AF822A16D7A2348996298E57B1E81644F86F56E195D89B4A1476427F85DA87C73D6B2AA406BC967A820383000F44BC91351BE4E132F4523F9066F19CA8C6E4B51C1AB45E03D247A51CF3A8E1A98FF4CB611F63D3E06C8E3EA222F6020DADF844BF0C72E74C6392247D8CDC308486C853F411C80E9286506C2AB11CE1185AD8760A5347D8A5B3D3516BB236E9A6FAB395D9F1994FD77A72550FF33117E8AEAE8FE75087CA3CA5A521990C7DBC05099240431569FA284C0C041A8AC9D0C7A35E57D16854B20156FEFE97C1C993C694345D48019339ACC2A0EEF1689C9AEBBDD1E481420BD7170312454F63F64BA9FA1C122A7E00875324EB63890EE018BD41C83546A65DBA49A0E96C636CCA6D9B049ACA3546AE3CB34980AB4CB3E99CC6E27C4E8DC44CD7C2BD13D157DE8C31624F795F369A7828B6D96D240439983517122AC2EE7A55A90AE6DEDA195D304FD2C7A09CB1D33854B23E16E36F9D4663320C36134056B52AD580930B4375A6CB8BC42F3275DF642AEB999C5150991C2BC46325A26025AE8978A244142CC9EB105947E2CCCE93C9197A6D32594B465A016A0EA9F59780E266CD7C0D505276A97BD7EE500A0FD6C206A5C8D0C7633C65D0784CC6383BBAD29F358D54261AE11007981C10491D7A8A899EAC256C617752D6D1D2477BB4161517E30559E1A35A446EB3A82A3D502B8BB15B60551EA795C5582DB60A07D3CA42AC16DEC29F34B39E1589E36D675ECD56A4E10AD97831CAEC33AC17243975D3A2443C2ACB1626A9AFE62119A1E3C5A4A345E0151DA59597B46D98B3B0FA31674C25A55229AE9C22331AB1CACD721DD63E33E37E9E55B7BF6DFA72DA6D3E454B5BB95673B4B0AAB398A44A52F5D6B5F213CC6E5C55BE879B78465FA71EEF4E2237466C792F91992D5ADD4DC8296B2651E1FC979B487277C27558FB785A5DBAE165EA53240E2BB0AA97D1AC1EED1A1B5474775AFC0AAEFD05E3DC36538B3362319F614D00CA636BC1FBAEDAF8C56C08C5DDB7E9BE3BF3944B0364097BC300A5495D9B812FACAECD475C49A99CE795335C66A2ABDCEBD6614984D7277470F70AA40F6585DF86FD2A7B7D7306ACA155752CE36D96EEDE1A1FB67578852359F642234F33B818226E6199FB209236F0800B36B3FC2765E924A5FC5DDACC127B55C690366B39368BCD5A1C13DB59DE8035FF643A41DDF3E43AD87875F91227D03FC01F1C2CFFE915EF818A0F6E41E0AE619CE4AE4CA6C787D8B3E285E78238375D26A6B9A7FCAB2B2D5BDDA3136CAB0B1D7FC6939B5BFC6294387618F7CAA20B68A5B9AB9E1FE65AEBD6664FCC1C79FEA8C6C5DDDDE86DD9D00D326F319B17153C61075120FA9D0F9E7FDF12530872D90E5C16CDC8417F2736BED51586B12D51997818D9A8B508B26443CF38686F06D0F68BAE362AD59B15F526A4CDD382A7EF715E48C2BF147C2B0686300D70426C55F56175A2B93066ABF6BC230409587B21B080A123D8489BF8D6BC899DCEFDD6B3549C65C28BE2EBC081CFE7D37F6514A793EBBF7FCC88DE4CEE23B4649E4E0E27FF6E1FA18CAB7B8B9820E2A37BDDC04E96419D7A9EC494F9A9FD30ABE2114B99FAD8421C28030DEB94A0336D5411853BC6E743072BE04DD1D9A86A3623A82BCBDF9A8F5D3F628E8B55A52B5B0A3A03F1A22D1A64C6A27AD24175E4D72C20A4FDD0B58C2086A79DB22C6584AACD6E3AB88C396AA7C8956D6AB7F3830B4DDF95AEF345268F2B935963D6866D9D21E071D780279D00B296AC1D00B65FD73A587C4C23B6B70997DE22547ABF4B00636EDA72572189D666B981EA661F569A98B60461A2AEDBA1B46778D19CD41E8B5B99AC20280BD28E8F085426A41D2F734A13D26E17239509698FA5F4B5F01516A51D0F84EE16C57E90F76B3BA134F3345B52A4569DFACB0A21DF8363449B71ED6E85E840B8CB576A0D2E2B09FB6033A9D1A666F079959DA646ECF98A740F58CB66F9F96C0E81DBDEB47C394416E79CD4065373D229AD2E35661D45DBE3B433D5624D0EDF45BB48ED0378B929A4D6217C41FA5A65551F42A634BF1CFB92A932BD6CBB4F31B9111EEE4AB9CE56518FF99BEC129BE78088D0E354E865BB9819431A9F49690F92D4BC506F74941685CDC34291F6299A3EC5539F41B40A6DF65118078E13D1BE17266283D877770BC1C4A897C2E228F556A3D43254D74851B9583FE854158689C4359087FD06DF7F0645EE69A0ADF1836AE5EEE3C55AF41F446BF880598AA7D886A5EE5D80ACF1A214197071A7E189860B4964C2ABAF26C4D5780CA3B160BE5246D15D145F41B0AAF1B49A32160955BA766CAC3DD765D41E17F64B8DD1093C351E87940159A8D2B5E35CED3987A89F3D8EC921DCDBABD26A8077F4CF8F1879CE55ECE0E81850D5464C16212A7F71753E751E4334CCF97E8E8D3035AB2F8BDD020985B1D9B2D2EAA3D8F0C565CC2F9492A5CAC0A5012378CC625116608B0C19B22256892AAE545D642A19BC32728B023FDF41A8CAC8736BCA91C7C9E1CB2A5707A19C324756862AD08932EA556DD02B690955B8AC66FEC9035FC97828CF51F01109A5D580CFBF6C138AE13F90952646DD6A28B514CA4271658EAC1C55481675C4ADFA805BB232E8605D5C298305E4E263C84844B9EAB08722AC8D86B76FD1B66461A06A9B2D9123826BB4F68DEE218E962482944E43753A68DC3059A60DD360F4B1226199CE416EA1615CA1B56F5227D1AE4C9BC48968C681867E930C225A89AFF0915E9A06F8A629FF3587B1BBA920CE106600578C465A7E731DACC3422FE66A547CC2BF1A81097090BA7A1125EE1AAC12948D6673EC069BE924B3FCC2ABF62374AE83FB34D9A5096A32F41F3DC6DB0F56B0EBCACFC276B1753EBBCFEEFBE32E9A80AAE9E2CBB9FBE0FBD4F59CB2DE5792FB0E0504D6DCC98D0F1ECB04DFFC6C5E4AA4BB90F769AA0222DD576E381E20527910587C1F2CC113B4A9DB8718DEC00D58BD2C8833053548F340B0DD7E3677C126027E4C302A7AF413F1B0E33F7FFB7F4F9C430C77D00000 , N'6.1.3-40302')

update invoiceItem
set invoiceItem.[VatValue] = FLOOR(20.0 * invoiceItem.[NetAmount]) / 100.0
from Invoices invoice
inner join InvoiceItems invoiceItem on invoice.[InvoiceId] = invoiceItem.[InvoiceId]
where invoice.VatRate = 20
